import{_ as t,n as i,k as e,p as s,S as h,Q as n,L as d}from"./index.js";const o={name:"Sticky",props:{stickyTop:{type:Number,default:0},zIndex:{type:Number,default:1},className:{type:String,default:""}},data:()=>({active:!1,position:"",width:void 0,height:void 0,isSticky:!1}),mounted(){this.height=this.$el.getBoundingClientRect().height,window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleReize)},activated(){this.handleScroll()},destroyed(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleReize)},methods:{sticky(){this.active||(this.position="fixed",this.active=!0,this.width=this.width+"px",this.isSticky=!0)},handleReset(){this.active&&this.reset()},reset(){this.position="",this.width="auto",this.active=!1,this.isSticky=!1},handleScroll(){const t=this.$el.getBoundingClientRect().width;this.width=t||"auto";this.$el.getBoundingClientRect().top<this.stickyTop?this.sticky():this.handleReset()},handleReize(){this.isSticky&&(this.width=this.$el.getBoundingClientRect().width+"px")}}},a=s("div",null,"sticky",-1);var l=t(o,[["render",function(t,o,l,c,r,p){return i(),e("div",{style:d({height:r.height+"px",zIndex:l.zIndex})},[s("div",{class:n(l.className),style:d({top:l.stickyTop+"px",zIndex:l.zIndex,position:r.position,width:r.width,height:r.height+"px"})},[h(t.$slots,"default",{},(()=>[a]))],6)],4)}]]);export{l as S};
